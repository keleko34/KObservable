var KonnektDT=function(){var G=function(){return function(G,X,Y,p){function w(b,c,d,g){b=void 0===b?{}:b;var e={},h=window.Proxy?new Proxy(e,{set:Q,deleteProperty:R}):e,y=Object.keys(b,"all");Object.defineProperties(e,{__kbname:f("string"===typeof c?c:"default",!0,!0),__kbref:f(d?d.__kbref||d:h,!0,!0),__kbscopeString:f(g||"",!0,!0),__kbImmediateParent:f(d||null,!0,!0),__kbsubscribers:f({}),__kbparentsubscribers:f({}),__kblisteners:f({}),__kbupdatelisteners:f({}),__kbparentlisteners:f({}),__kbparentupdatelisteners:f({}),
__kbcreatelisteners:f([]),__kbdeletelisteners:f([]),__kbparentcreatelisteners:f([]),__kbparentdeletelisteners:f([]),__kbmethodlisteners:f([]),__kbmethodupdatelisteners:f([]),__kbpointers:f({}),__kbevents:f(S),__kbsetindex:f(0,!0),__kbproto:f({}),length:f(0,!0),__kbnonproxy:f(e,!1,!0),__kbproxy:f(h,!1,!0),_stopChange:f(!1,!0)});e.__proto__=w.prototype;c=0;for(d=y.length;c<d;c++)h.set(y[c],b[y[c]]);e.__kbevents.addlistener=[];e.__kbevents.removelistener=[];e.addActionListener("addlistener",function(b){if("string"===
typeof b.arguments[0]&&void 0!==b.local.__kbpointers[b.arguments[0]]){var d=b.local.__kbpointers[b.arguments[0]],c=d.point.getLayer(d.keys);if(void 0!==c[b.arguments[0]])c[b.arguments[2]](b.arguments[0],b.arguments[1]);else if(void 0!==c[d.keys.split(".").pop()])c[b.arguments[2]](d.keys.split(".").pop(),b.arguments[1])}}).addActionListener("removelistener",function(b){if("string"===typeof b.arguments[0]&&void 0!==b.local.__kbpointers[b.arguments[0]]){var d=b.local.__kbpointers[b.arguments[0]],c=d.point.getLayer(d.keys);
if(void 0!==c[b.arguments[0]])c[b.arguments[2]](b.arguments[0],b.arguments[1]);else if(void 0!==c[localPointerkeys.split(".").pop()])c[b.arguments[2]](d.keys.split(".").pop(),b.arguments[1])}});return h}function q(b,c,d,g,e,h,f,k){this.stopPropogation=function(){this._stopPropogration=!0};this.preventDefault=function(){this._preventDefault=!0};this.local=b;this.key=c;this.arguments=h;this.type=this.event=d;this.listener=f;this.name=b.__kbname;this.root=b.__kbref;this.scope=b.__kbscopeString;this.parent=
b.__kbImmediateParent;this.value=g;this.oldValue=e;this.stopChange=k}function f(b,c,d,g){return{value:b,writable:!!c,enumerable:!!g,configurable:!!d}}function H(b,c,d){return{get:function(){return b.call(this)},set:function(d){c&&(b=d)},enumerable:!1,configurable:!!d}}function T(b,c){var d=c,g=c;return{get:function(){return d},set:function(c){var h=new q(this,b,"set",c,d,arguments,"__kblisteners",this._stopChange);!0!==l(h)&&(g=d,d=c,h.stopChange||(h.listener="__kbupdatelisteners",h.type="postset",
l(h)),this.callSubscribers(this.__kbref,this,b,d,g,this._stopChange));this._stopChange=!1},configurable:!0,enumerable:!0}}function U(){var b=Array.prototype.slice.call(arguments),c=b.shift();return{get:function(){return b.reduce(function(b,c){return b[c]},c)},set:function(d){var g=b.slice(0,b.length-1).reduce(function(b,d){return b[d]},c);(this._stopChange?g.stopChange():g)[b[b.length-1]]=d;this._stopChange=!1},enumerable:!0,configurable:!0}}function K(b,c){for(var d=[{listener:"__kbparentlisteners",
action:"addChildListener"},{listener:"__kbparentupdatelisteners",action:"addChildUpdateListener"},{listener:"__kbparentcreatelisteners",action:"addChildCreateListener"},{listener:"__kbparentdeletelisteners",action:"addChildDeleteListener"}],g=[],e,h=0,f=d.length;h<f;h++)if(e=b[d[h].listener],t.call(e))for(var g=Object.keys(e),k=0,n=g.length;k<n;k++)for(var m=0,l=e[g[k]].length;m<l;m++)c[d[h].method](g[k],e[g[k]][m]);else for(k=0,n=e.length;k<n;k++)c[d[h].method](e[k])}function Q(b,c,d){if(L(b,c)||
"length"===c||"__kbsetindex"===c){if("length"===c)if(d>b.length&&void 0!==b[d-1])b.length=d;else{if(d<b.length){c=d;for(var g=b.length;c<g;c++)b[c]&&delete b[c];b.length=d}}else b[c]=d;return!0}b.set(c,d)}function R(b,c){b.del(c);return!0}function I(b,c,d){var g=r(d),e=t(d),h=A(d);if(g&&d.__kbname!==b.__kbname)"default"===d.__kbname?b.merge(d,c):b.__kbpointers[c]||b.addPointer(d,c);else{var g=new q(this,c,"create",d,void 0,[],"__kbcreatelisteners",this._stopChange),f=l(g),k=parseInt(c,10);if(!0!==
f)if((e||h)&&0!==Object.keys(d,"all").length)for(I.call(this,b,c,{}),e=0,h=Object.keys(d,"all"),g=h.length;e<g;e++)I.call(this[c],b[c],h[e],d[h[e]]);else{if(e||h)d=new w(d,b.__kbname,b,b.__kbscopeString+(0!==b.__kbscopeString.length?".":"")+c),K(b,d);Object.defineProperty(b,c,T(c,d));!isNaN(k)&&b.length<=k&&(b.length=k+1);g.listener="__kbupdatelisteners";g.type="postcreate";l(g)}}}function M(b,c,d,g){var e=r(d),h=t(d),f=A(d);if(e&&d.__kbname!==b.__kbname)"default"===d.__kbname?b.merge(d,c):b.__kbpointers[c]||
b.addPointer(d,c);else if(void 0===b[c])-1===J.indexOf(c)?I.call(this,b,c,d):(g?b.stopChange():b)[c]=d;else if(h||f)for(e=0,h=Object.keys(d,"all"),f=h.length;e<f;e++)M.call(this[c],b[c],h[e],d[h[e]],g);else(g?b.stopChange():b)[c]=d}function D(b){return N.call(b).replace(/(\[object\s|\])/g,"").toLowerCase()}function t(b){return"object"===D(void 0!==b?b:this)}function A(b){return"array"===D(void 0!==b?b:this)}function r(b){return"mixed"===D(void 0!==b?b:this)}function L(b,c){c="string"===typeof b?b:
c;var d=Object.getOwnPropertyDescriptor("string"===typeof b?this:b,c);return d?void 0===d.value:!1}function O(b,c){function d(b){var d=parseFloat(b,10),c="true"===b,g=b.indexOf('"'),e=b.lastIndexOf('"');if(isNaN(d)||d.toString().length!==b.length){if(c||"false"===b)return c;b=0===g&&0!==e?b.substring(1,b.length-1):b.substring(1,b.length)}else return d;return b}var g=this.__kbnonproxy;split=b.split(/({"|,"(?=(?:[^"]|"[^"]*")*$)|\[(?=(?:[^"]|"[^"]*")*$)|\](?=(?:[^"]|"[^"]*")*$)|":|"}|{(?=(?:[^"]|"[^"]*")*$)|,(?=(?:[^"]|"[^"]*")*$)|}(?=(?:[^"]|"[^"]*")*$))/).filter(Boolean);
UKeys=[];isValue=isKey=!1;p="";for(var e=1,h=split.length,f,k,n,m;e<h;e++)f=split[e],k=split[e-1],n=split[e+1],m=UKeys[UKeys.length-1],'":'===k&&'{"'===f||'":'===k&&"["===f?(p+=(0!==p.length?".":"")+m,g[m]||g.set(m,c?c(m,{},p,g):{}),g=g[m],UKeys.pop()):"["===k||","===k&&0!==g.length?"{"===f||'{"'===f?(p+=(0!==p.length?".":"")+g.__kbsetindex,"object"!==typeof g[g.__kbsetindex]&&g.set(g.__kbsetindex,c?c(g.length,{},p,g):{}),g.__kbsetindex+=1,g=g[g.__kbsetindex-1]):(g.set(g.__kbsetindex,c?c(g.length,
d(f),p,g):d(f)),g.__kbsetindex+=1):'":'===k?(g.set(m,c?c(m,d(f),p,g):d(f)),UKeys.pop()):'{"'===k||","===k&&'":'===n?UKeys[UKeys.length]=f.replace(/\"/g,""):"}"!==k&&"]"!==k||void 0===f||(p=-1!==p.indexOf(".")?p.substring(0,p.lastIndexOf(".")-1):"",g=g.__kbImmediateParent);return this}function P(b,c){"number"===typeof b&&(b=b.toString());var d=-1!==b.indexOf(".")?this.__kbnonproxy.setLayer(b):this.__kbnonproxy;-1!==b.indexOf(".")&&(b=b.split(".").pop());var g=new q(this,b,"set",c,this[b],arguments,
"__kbmethodlisteners");!0!==l(g)&&(M.call(this,d,b,c,this._stopChange),this.stopChange=void 0,g.type="postset",g.listener="__kbmethodupdatelisteners",l(g));return this}function v(b){return b.split(".")}function B(b,c){return function(d,g){arguments=Array.prototype.slice.call(arguments);arguments.push(b);var e=this[c],h=new q(this,c,"addlistener",e,void 0,arguments,"");"string"===typeof d&&1!==v(d).length&&(e=v(d),d=e.pop(),e=e.join("."),h.local=this.getLayer(e),e=h.local[c],h.value=e);!0!==l(h)&&
(t.call(e)?(void 0===e[d]&&(e[d]=[]),e[d].push(g),h.type="postaddlistener",l(h)):A.call(e)&&"function"===typeof d&&(e.push(d),h.type="postaddlistener",l(h)));return this}}function C(b,c){return function(d,g){arguments=Array.prototype.slice.call(arguments);arguments.push(b);var e=this[c],h=new q(this,c,"removelistener",e,void 0,arguments,"");"string"===typeof d&&1!==v(d).length&&(e=v(d),e.pop(),e.join("."),h.local=this.getLayer(e),e=h.local[c],h.value=e,d=v(d).pop());if(!0!==l(h))if(t.call(e)){if(void 0!==
e[d])for(var f=0,k=e[d].length;f<k;f++)if(e[d][f].toString()===g.toString()){e[d].splice(f,1);h.type="postremovelistener";l(h);break}}else if(A.call(e)&&"function"===typeof d)for(f=0,k=e.length;f<k;f++)if(e[f].toString()===d.toString()){e.splice(f,1);h.type="postremovelistener";l(h);break}return this}}function E(b,c){function d(b,c,h){var f=Object.keys(this,"all").filter(function(b){return r.call(this[b])}.bind(this)),k=this,n=b;"string"===typeof b&&1!==v(b).length&&(k=v(b),n=k.pop(),k=k.join("."),
k=this.getLayer(k),void 0===k[h][n]&&(k[h][n]=[]),k[h][n].push(c));t.call(k[h])?(void 0===k[h][n]&&(k[h][n]=[]),k[h][n].push(c),k=k.__kbpointers[n],k=k.point.getLayer(k.keys),void 0!==k[n]&&(void 0===k[h][n]&&(k[h][n]=[]),k[h][n].push(_func))):k[h].push(c);n=0;for(k=f.length;n<k;n++)d.call(this[f[n]],b,c,h)}return function(g,e){arguments=Array.prototype.slice.call(arguments);arguments.push(b);var h=new q(this,c,"addchildlistener",void 0,void 0,arguments,"");!0!==l(h)&&(d.call(this.__kbnonproxy,g,
e,c),h.type="postaddchildlistener",l(h));return this}}function F(b,c){function d(b,c,h){var f=Object.keys(this,"all").filter(function(b){return r.call(this[b])}.bind(this)),k=this,n=b;if("string"===typeof b&&1!==v(b).length){var m=v(b),n=m.pop();m.join(".");k=this.getLayer(m);if(void 0!==k[h][b])for(var m=0,l=k[h][b].length;m<l;m++)if(k[h][b][m].toString()===c.toString()){k[h][b].splice(m,1);break}}if(t.call(k[h])){if(void 0!==k[h][n]){m=0;for(l=k[h][n].length;m<l;m++)if(k[h][n][m].toString()===c.toString()){k[h][n].splice(m,
1);break}if(-1!==k.__kbpointers.indexOf(n)&&(m=k.__kbpointers[n],k=m.point.getLayer(m.keys),void 0!==k[h][n]))for(m=0,l=k[h][n].length;m<l;m++)if(k[h][n][m].toString()===c.toString()){k[h][n].splice(m,1);break}}}else for(m=0,l=k[h].length;m<l;m++)if(k[h][m].toString()===c.toString()){k[h].splice(m,1);break}m=0;for(l=f.length;m<l;m++)d.call(this[f[m]],b,c,h)}return function(g,e){arguments=Array.prototype.slice.call(arguments);arguments.push(b);var h=new q(this,c,"removechildlistener",void 0,void 0,
arguments,"");!0!==l(h)&&(d.call(this.__kbnonproxy,g,e,c),h.type="postremovechildlistener",l(h));return this}}var S={set:[],postset:[],create:[],postcreate:[],"delete":[],postdelete:[],splice:[],postsplice:[],push:[],postpush:[],pop:[],postpop:[],shift:[],postshift:[],unshift:[],postunshift:[],fill:[],postfill:[],reverse:[],postreverse:[],sort:[],postsort:[],addlistener:[],postaddlistener:[],removelistener:[],postremovelistener:[],addchildlistener:[],postaddchildlistener:[],removechildlistener:[],
postremovechildlistener:[]},J=["__proto__","_stopChange"],z=function(b,c){if(!c._stopPropogration&&b)for(var d=0,g=b.length;d!==g&&(b[d](c),!c._stopPropogration);d++);},l=function(b){if(b.listener){var c=b.local[b.listener],d=b.local[b.listener.replace("__kb","__kbparent")];t.call(c)?(z(c[b.key],b),z(c["*"],b)):z(c,b);t.call(d)?(z(d[b.key],b),z(d["*"],b)):z(d,b)}z(b.local.__kbref.__kbevents[b.type],b);return b._preventDefault},V=Array.prototype.sort,W=Array.prototype.slice,N;Object.prototype._toString||
(Object.prototype._toString=Object.prototype.toString);Object._keys||(Object._keys=Object.keys);Object.prototype.toString=function(){return this instanceof w?"[object Mixed]":Object.prototype._toString.apply(this,arguments)};Object.keys=function(b,c){return Object._keys(b).filter(function(b){return c&&"object"!==c&&"o"!==c?"all"===c?!0:!isNaN(parseInt(b,10)):isNaN(parseInt(b,10))})};N={}.toString;Object.defineProperties(w.prototype,{"typeof":f(D,!1,!0),sizeof:f(function(b){function c(b){for(var e=
Object.keys(b,"all"),h=0,f=void 0,k=0,n=e.length;k<n;k++)f=b[e[k]],"object"===typeof f&&void 0!==f&&null!==f?-1===d.indexOf(f)&&(d.push(f),h+=c(f)):"string"===typeof f?h+=2*f.length:"number"===typeof f?h+=8:"boolean"===typeof f?h+=4:"function"===typeof f&&(h+=2*f.toString().length),h+=2*e[k].length;return h}var d=[];return c(b||this)+" Bytes (Rough estimate)"},!1,!0),isObject:f(t,!1,!0),isArray:f(A,!1,!0),isMixed:f(r,!1,!0),isObservable:f(L,!1,!0),stringify:f(function(b){var c=[];return JSON.stringify(b||
this,function(b,g){if(A(g)||t(g)){if(-1!==c.indexOf(g))return;c.push(g)}return g})},!1,!0),getKeys:f(function(b,c){c="string"===typeof b?b:c?c:"object";return Object.keys("string"===typeof b||void 0===b?this:b,c)},!1,!0),getIndexes:f(function(b){b=void 0!==b?"object"===typeof b?b:this[b]:this;for(var c=[],d=0,g=b.length;d<g;d++)void 0!==b[d]&&(c[c.length]=d);return c},!1,!0),keyCount:H(function(){return this.getKeys("object").length},!1,!0),indexCount:H(function(){return this.length},!1,!0),count:H(function(){return this.keyCount+
this.indexCount},!1,!0),concat:f(Array.prototype.concat),every:f(Array.prototype.every),filter:f(Array.prototype.filter),find:f(Array.prototype.find),findIndex:f(Array.prototype.findIndex),forEach:f(Array.prototype.forEach),includes:f(Array.prototype.includes),indexOf:f(Array.prototype.indexOf),join:f(Array.prototype.join),lastIndexOf:f(Array.prototype.lastIndexOf),map:f(Array.prototype.map),reduce:f(Array.prototype.reduce),reduceRight:f(Array.prototype.reduceRight),slice:f(Array.prototype.slice),
some:f(Array.prototype.some),entries:f(Array.prototype.entries),toLocaleString:f(Array.prototype.toLocaleString),parse:f(O,!0),parseReplace:f(function(b,c){return O.call(c||this,b)},!0),add:f(function(b,c){P.call(this,b,c);return this}),set:f(P),get:f(function(b){"number"===typeof b&&(b=b.toString());var c=-1!==b.indexOf(".")?this.getLayer(b):this;-1!==b.indexOf(".")&&(b=b.split(".").pop());if(c)return c[b];console.warn("Module: KonnektDT, Method: get, nothing exists on %o with the key %o",this,b)}),
del:f(function(b,c){var d="number"===typeof b||!isNaN(parseInt(b,10));d&&(b=b.toString());var g=-1!==b.indexOf(".")?this.getLayer(b):this,e=b.split(".").pop();if(g&&void 0!==g[e])if(d&&g.length>parseInt(b,10)&&!c)g=g.__kbnonproxy,g.splice(e,1);else{var h=new q(g,b,"delete",g[e],void 0,[],"__kbmethodlisteners"),y=l(h),k=new q(g,b,"delete",g[e],void 0,[],"__kbdeletelisteners",this._stopChange);!0!==l(k)&&!0!==y&&(g=g.__kbnonproxy,Object.defineProperty(g,e,f(void 0,!0,!0,!1)),delete g[e],d&&g.length>
parseInt(b,10)&&c&&--g.length,h.type="postdelete",h.listener="__kbmethodupdatelisteners",l(h),k.listener="__kbupdatelisteners",k.type="postdelete",k.oldValue=k.value,k.value=void 0,l(k))}return this}),exists:f(function(b){function c(b,g){return 1!==b.length?void 0!==g[b[0]]?c(b.slice(1,b.length),g[b[0]]):!1:void 0!==g[b[0]]}return c(b.split("."),this.__kbnonproxy)}),addPrototype:f(function(b,c){var d=-1!==b.indexOf(".")?this.__kbnonproxy.setLayer(b):this.__kbnonproxy;-1!==b.indexOf(".")&&(b=b.split(".").pop());
void 0===d[b]?Object.defineProperty(d.__proto__,b,f(c,!0,!0)):console.error("Your attempting to add your prototype with the prop %O that already exists on %O",prop,d);return this}),addPointer:f(function(){var b=Array.prototype.slice.call(arguments),c=b.shift(),d=c.exists(b.join("."))?b[b.length-1]:b.pop();c instanceof w||(c=new w(c,c.__kbname));var g=new q(this,d,"create",c[d],void 0,[],"__kbcreatelisteners",this._stopChange),e=this.__kbnonproxy;g.root=c.__kbref.__kbproxy;if(!0!==l(g)){Object.defineProperty(e,
d,U.apply(e,[c].concat(b)));e.__kbpointers[d]={keys:b.join("."),point:c};var b=e,c=[{listener:"__kblisteners",method:"addDataListener"},{listener:"__kbupdatelisteners",method:"addDataUpdateListener"}],e=[],h;if(b[d]&&b[d].__kbImmediateParent)for(var f=0,k=c.length;f<k;f++){h=b[c[f].listener];for(var e=Object.keys(h),n=0,m=e.length;n<m;n++)if(d===e[f])for(var p=0,u=h[e[f]].length;p<u;p++)void 0===b[d].__kbImmediateParent[c[f].listener][d]&&(b[d].__kbImmediateParent[c[f].listener][d]=[]),b[d].__kbImmediateParent[c[f].listener][d].push(h[e[f]][p])}K(b,
b[d]);g.listener="__kbupdatelisteners";g.type="postcreate";l(g)}return this}),move:f(function(b,c){this.__kbnonproxy.set(c,b[c]);r(b)?b.del(c):(b[c]=null,delete b[c]);return this}),copy:f(function(b,c){var d=this.__kbnonproxy;r(b)?"default"===b.__kbname?d.merge(b[c],c):d.addPointer(b,c):d.set(c,b[c]);return this}),merge:f(function(b,c){function d(b,c){for(var e=r(b)?b.keys("object"):Object.keys(b),f,m=0,l=e.length;m<l;m++)f=b[e[m]],"object"===typeof f&&-1===g.indexOf(f)&&"undefined"!==c[e[m]]?d(f,
c):void 0===c[e[m]]&&c.set(e[m],"object"===typeof f?{}:f)}var g=[],e=this.__kbnonproxy;c&&void 0===e[c]&&e.set(c,{});d(b,c?e[c]:e);return this}),replace:f(function(b,c){function d(b,c){var e=r(b)?b.keys("object"):Object.keys(b),f;f=b[e[x]];"object"===typeof f&&-1===g.indexOf(f)&&"undefined"!==c[e[x]]?d(f,c):c.set(e[x],"object"===typeof f?{}:f)}var g=[],e=this.__kbnonproxy;c&&void 0===e[c]&&e.set(c,{});d(b,c?e[c]:e);return this}),copyWithin:f(function(b,c,d){c=c||0;d=d||0;var g=new q(this,b,"copyWithin",
this[b],void 0,arguments,"__kbmethodlisteners"),e=this.__kbnonproxy;if(!0!==l(g)&&b<e.length){b=0>b?e.length-1:b;c=c<e.length?c:e.length-1;d=d<e.length?d:e.length-1;c=0>c?e.length-1:c;d=0>c?e.length-1:d;for(var f=c;f<=d;f++)e.set(b+(f-c),e[f]);g.type="postcopyWithin";g.listener="__kbmethodupdatelisteners";l(g)}return this}),fill:f(function(b,c,d){c=void 0!==c?Math.max(0,c):0;d=void 0!==d&&d<=this.length?Math.min(this.length,Math.max(0,d)):this.length;var g=new q(this,_start,"fill",this[_start],void 0,
arguments,"__kbmethodlisteners"),e=this.__kbnonproxy;if(!0!==l(g)){for(var f=a.key;f<d;f++)e[f]=b;g.type="postfill";g.listener="__kbmethodupdatelisteners";l(g)}return this}),pop:f(function(){var b=new q(this,this.length-1,"pop",this[this.length-1],void 0,arguments,"__kbmethodlisteners"),c=this.__kbnonproxy;if(!0!==l(b)){var d=c[c.length-1];c.del(this.length-1);b.type="postpop";b.listener="__kbmethodupdatelisteners";l(b);return d}return null}),push:f(function(b){var c=new q(this,this.length,"push",
b,void 0,arguments,"__kbmethodlisteners"),d=this.__kbnonproxy;!0!==l(c)&&(d.set(d.length,b),c.type="postpush",c.listener="__kbmethodupdatelisteners",l(c));return this.length}),reverse:f(function(){var b=new q(this,void 0,"reverse",void 0,void 0,arguments,"__kbmethodlisteners"),c=this.__kbnonproxy;if(!0!==l(b)){for(var d=null,g=null,e=c.length,d=0;d<e/2;d+=1){var g=e-1-d,f=c[d];c[d]=c[g];c[g]=f}b.type="postreverse";b.listener="__kbmethodupdatelisteners";l(b)}return this}),shift:f(function(){var b=
new q(this,0,"shift",this[0],void 0,arguments,"__kbmethodlisteners"),c=this.__kbnonproxy;if(!0!==l(b)){for(var d=a.key,g=this.length-1;d<g;d++)c[d]=c[d+1];c.del(this.length-1);b.type="postshift";b.listener="__kbmethodupdatelisteners";l(b)}return null}),sort:f(function(){var b=new q(this,void 0,"sort",void 0,void 0,arguments,"__kbmethodlisteners"),c=this.__kbnonproxy;if(!0!==l(b)){var d=W.call(c);V.apply(d,arguments);for(var g=0,e=d.length;g<e;g++)c[g]=d[g];b.type="postsort";b.listener="__kbmethodupdatelisteners";
l(b)}return this}),splice:f(function(b,c,d){b="string"===typeof b?parseInt(b,10):b;var g=new q(this,b,"splice",void 0,void 0,arguments,"__kbmethodlisteners"),e=this.__kbnonproxy;if(!0!==l(g)){var f=[],y=Array.prototype.slice.call(arguments,2),k=y.length-2,n=0;if(0!==c&&void 0!==e[b-1+c])for(var m=0,p=c;m<p;m++){f.push(e[b+m]);for(var u=b+m,r=this.length-1;u<r;u++)e[u]=e[u+1];e.del(e.length-1,!0)}if(0!==k)for(m=0,p=k;m<p;m++){n=b+Math.min(1,m);u=e.length;for(r=n;u>r;u--)e.set(u,e[u-1]);e.set(n,y[m])}g.type=
"postsplice";g.listener="__kbmethodupdatelisteners";l(g);return f}return[]}),unshift:f(function(){var b=new q(this,0,"unshift",this[0],void 0,arguments,"__kbmethodlisteners"),c=this.__kbnonproxy;if(!0!==l(b)){for(var d=Array.prototype.slice.call(arguments),g=c.length-1+d.length,e=d.length;-1!==g;g--)g<e?c.set(g,d[g]):c.set(g,c[g-d.length]);b.type="postunshift";b.listener="__kbmethodupdatelisteners";l(b)}return this.length}),getLayer:f(function(b){function c(b){var g=b[0];return void 0===this[g]&&
0!==b.length-1?null:r(this[g])?0!==b.length-1?(b.shift(),c.call(this[g],b)):this[g]:this}b=v(b);return c.call(this,b)}),setLayer:f(function(b){function c(b){var g=b[0];void 0===this[g]&&0!==b.length-1&&(this[g]=w({},this.__kbname,this,this.__kbscopeString+"."+g));return r(this[g])?0!==b.length-1?(b.shift(),c.call(this[g],b)):this[g]:this}b=v(b);return c.call(this,b)}),ignoreCreate:f(function(b){-1===J.indexOf(b)&&J.push(b);return this}),addActionListener:f(function(b,c){var d=this.__kbnonproxy;void 0!==
d.__kbref.__kbevents[b]&&d.__kbref.__kbevents[b].push(c);return this}),removeActionListener:f(function(b,c){var d=this.__kbnonproxy;if(void 0!==d.__kbref.__kbevents[b])for(var g=0,e=d.__kbref.__kbevents[b];g<e;g++)if(d.__kbref.__kbevents[b][g].toString()===c.toString()){d.__kbref.__kbevents[b].splice(g,1);break}return this}),subscribe:f(function(b,c){var d=b.split("."),g=d.pop(),d=0!==d.length?this.__kbnonproxy.getLayer(d.join(".")):this.__kbnonproxy;void 0===d.__kbsubscribers[g]&&(d.__kbsubscribers[g]=
[]);d.__kbsubscribers[g].push(c);return this}),unsubscribe:f(function(b,c){var d=b.split("."),g=d.pop(),d=0!==d.length?this.__kbnonproxy.getLayer(d.join(".")):this.__kbnonproxy;if(void 0!==d.__kbsubscribers[g])for(var e=0,f=d.__kbsubscribers[g].length;e<f;e++)if(d.__kbsubscribers[g][e].toString()===c.toString()){d.__kbsubscribers[g].splice(e,1);break}return this}),subscribeDeep:f(function(b,c){function d(b,e){var f=Object.keys(b,"all").filter(function(c){return r.call(b[c])}.bind(b));if(void 0!==
b[e]||"*"===e)void 0===b.__kbparentsubscribers[e]&&(b.__kbparentsubscribers[e]=[]),b.__kbparentsubscribers[e].push(c);for(var g=0,h=f.length;g<h;g++)d(b[f[g]],e)}var f=-1!==b.indexOf("*"),e=b.split(".");e.slice(0,e.indexOf("*"));var h=-1!==e.indexOf("*")?e.slice(e.indexOf("*"),e.length):[],l=1===h.length,k=e.pop(),e=0!==e.length?this.__kbnonproxy.getLayer(e.join(".")):this.__kbnonproxy;f?l?d(e,"*"):(h.shift(),e.subscribeDeep(h.join("."),c)):d(e,k);return this}),unsubscribeDeep:f(function(b,c){function d(b,
e){var f=Object.keys(b,"all").filter(function(c){return r.call(b[c])&&!(b[c]instanceof HTMLElement)}.bind(b));if((void 0!==b[e]||"*"===e)&&void 0!==b.__kbparentsubscribers[e])for(var g=0,h=b.__kbparentsubscribers[e].length;g<h;g++)b.__kbparentsubscribers[e][g].toString()===c.toString()&&b.__kbparentsubscribers[e].splice(g,1);g=0;for(h=f.length;g<h;g++)d(b[f[g]],e)}var f=-1!==b.indexOf("*"),e=b.split(".");e.slice(0,e.indexOf("*"));var h=-1!==e.indexOf("*")?e.slice(e.indexOf("*"),e.length):[],l=1===
h.length,k=e.pop(),e=0!==e.length?this.__kbnonproxy.getLayer(e.join(".")):this.__kbnonproxy;f?l?d(e,"*"):(h.shift(),e.unsubscribeDeep(h.join("."),c)):d(e,k);return this}),callSubscribers:f(function(b,c,d,f,e,h){var l=this.__kbnonproxy;if(void 0!==l.__kbsubscribers[d])for(var k=0,n=l.__kbsubscribers[d].length;k<n;k++)l.__kbsubscribers[d][k].call(this,{key:d,value:f,oldValue:e,stopChange:h,local:c,kbref:b});if(void 0!==l.__kbparentsubscribers[d])for(k=0,n=l.__kbparentsubscribers[d].length;k<n;k++)l.__kbparentsubscribers[d][k].call(this,
{key:d,value:f,oldValue:e,stopChange:h,local:c,kbref:b});if(void 0!==l.__kbsubscribers["*"])for(k=0,n=l.__kbsubscribers["*"].length;k<n;k++)l.__kbsubscribers["*"][k].call(this,{key:d,value:f,oldValue:e,stopChange:h,local:c,kbref:b});if(void 0!==l.__kbparentsubscribers["*"])for(k=0,n=l.__kbparentsubscribers["*"].length;k<n;k++)l.__kbparentsubscribers["*"][k].call(this,{key:d,value:f,oldValue:e,stopChange:h,local:c,kbref:b});return this}),callAllSubscribers:f(function(){function b(b,d,f){for(var e=
0,h=d.length;e<h;e++)d[e].call(b,{key:f,value:b[f],oldValue:b[f],stopChange:!1,local:b,kbref:b.__kbref,initial:!0})}(function(c){for(var d=Object.keys(c.__kbsubscribers),f=Object.keys(c.__kbparentsubscribers),e=0,h=d.length;e<h;e++)if(0!==c.__kbsubscribers[d[e]].length)if("*"===d[e])for(var l=0,k=Object.keys(c),n=k.length;l<n;l++)b(c,c.__kbsubscribers[d[e]],k[l]);else b(c,c.__kbsubscribers[d[e]],d[e]);e=0;for(h=f.length;e<h;e++)if(0!==c.__kbparentsubscribers[f[e]].length)if("*"===f[e])for(l=0,k=Object.keys(c),
n=k.length;l<n;l++)b(c,c.__kbparentsubscribers[f[e]],k[l]);else b(c,c.__kbparentsubscribers[f[e]],f[e])})(this.__kbnonproxy);return this}),stopChange:f(function(){this.__kbnonproxy._stopChange=!0;return this})});Object.defineProperties(w.prototype,{addDataListener:f(B("addDataListener","__kblisteners")),removeDataListener:f(C("removeDataListener","__kblisteners")),addDataUpdateListener:f(B("addDataUpdateListener","__kbupdatelisteners")),removeDataUpdateListener:f(C("removeDataUpdateListener","__kbupdatelisteners")),
addDataCreateListener:f(B("addDataCreateListener","__kbcreatelisteners")),removeDataCreateListener:f(C("removeDataCreateListener","__kbcreatelisteners")),addDataDeleteListener:f(B("addDataDeleteListener","__kbdeletelisteners")),removeDataDeleteListener:f(C("removeDataDeleteListener","__kbdeletelisteners")),addDataMethodListener:f(B("addDataMethodListener","__kbmethodlisteners")),removeDataMethodListener:f(C("removeDataMethodListener","__kbmethodlisteners")),addDataMethodUpdateListener:f(B("addDataMethodUpdateListener",
"__kbmethodupdatelisteners")),removeDataMethodUpdateListener:f(C("removeDataMethodUpdateListener","__kbmethodupdatelisteners")),addChildDataListener:f(E("addChildDataListener","__kbparentlisteners")),removeChildDataListener:f(F("removeChildDataListener","__kbparentlisteners")),addChildDataUpdateListener:f(E("addChildDataUpdateListener","__kbparentupdatelisteners")),removeChildDataUpdateListener:f(F("removeChildDataUpdateListener","__kbparentupdatelisteners")),addChildDataCreateListener:f(E("addChildDataCreateListener",
"__kbparentcreatelisteners")),removeChildDataCreateListener:f(F("removeChildDataCreateListener","__kbparentcreatelisteners")),addChildDataDeleteListener:f(E("addChildDataDeleteListener","__kbparentdeletelisteners")),removeChildDataDeleteListener:f(F("removeChildDataDeleteListener","__kbparentdeletelisteners"))});return w}}();"undefined"!==typeof window&&"undefined"!==typeof window.define&&"undefined"!==typeof window.require?define([],function(){return G}):"undefined"!==typeof module&&(module.exports=
G);return G}();
