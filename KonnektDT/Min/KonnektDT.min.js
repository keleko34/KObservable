var KonnektDT=function(){var G=function(){return function(G,X,Y,p){function w(b,c,e,h){b=void 0===b?{}:b;var f={},g=window.Proxy?new Proxy(f,{set:Q,deleteProperty:R}):f,y=Object.keys(b,"all");Object.defineProperties(f,{__kbname:d("string"===typeof c?c:"default",!0,!0),__kbref:d(e?e.__kbref||e:g,!0,!0),__kbscopeString:d(h||"",!0,!0),__kbImmediateParent:d(e||null,!0,!0),__kbsubscribers:d({}),__kbparentsubscribers:d({}),__kblisteners:d({}),__kbupdatelisteners:d({}),__kbparentlisteners:d({}),__kbparentupdatelisteners:d({}),
__kbcreatelisteners:d([]),__kbdeletelisteners:d([]),__kbparentcreatelisteners:d([]),__kbparentdeletelisteners:d([]),__kbmethodlisteners:d([]),__kbmethodupdatelisteners:d([]),__kbpointers:d({}),__kbevents:d(S),length:d(0,!0),__kbnonproxy:d(f,!1,!0),__kbproxy:d(g,!1,!0),_stopChange:d(!1,!0)});f.__proto__=w.prototype;c=0;for(e=y.length;c<e;c++)g.set(y[c],b[y[c]]);f.__kbevents.addlistener=[];f.__kbevents.removelistener=[];f.addActionListener("addlistener",function(b){if("string"===typeof b.arguments[0]&&
void 0!==b.local.__kbpointers[b.arguments[0]]){var e=b.local.__kbpointers[b.arguments[0]],e=e.point.getLayer(e.keys);if(void 0!==e[b.arguments[0]])e[b.arguments[2]](b.arguments[0],b.arguments[1])}}).addActionListener("removelistener",function(b){if("string"===typeof b.arguments[0]&&void 0!==b.local.__kbpointers[b.arguments[0]]){var e=b.local.__kbpointers[b.arguments[0]],e=e.point.getLayer(e.keys);if(void 0!==e[b.arguments[0]])e[b.arguments[2]](b.arguments[0],b.arguments[1])}});return g}function q(b,
c,e,h,f,g,d,k){this.stopPropogation=function(){this._stopPropogration=!0};this.preventDefault=function(){this._preventDefault=!0};this.local=b;this.key=c;this.arguments=g;this.type=this.event=e;this.listener=d;this.name=b.__kbname;this.root=b.__kbref;this.scope=b.__kbscopeString;this.parent=b.__kbImmediateParent;this.value=h;this.oldValue=f;this.stopChange=k}function d(b,c,e,h){return{value:b,writable:!!c,enumerable:!!h,configurable:!!e}}function H(b,c,e){return{get:function(){return b.call(this)},
set:function(e){c&&(b=e)},enumerable:!1,configurable:!!e}}function T(b,c){var e=c,h=c;return{get:function(){return e},set:function(c){var g=new q(this,b,"set",c,e,arguments,"__kblisteners",this._stopChange);!0!==l(g)&&(h=e,e=c,g.stopChange||(g.listener="__kbupdatelisteners",g.type="postset",l(g)),this.callSubscribers(this.__kbref,this,b,e,h,this._stopChange));this._stopChange=!1},configurable:!0,enumerable:!0}}function U(){var b=Array.prototype.slice.call(arguments),c=b.shift();return{get:function(){return b.reduce(function(b,
c){return b[c]},c)},set:function(e){var h=b.slice(0,b.length-1).reduce(function(b,e){return b[e]},c);(this._stopChange?h.stopChange():h)[b[b.length-1]]=e;this._stopChange=!1},enumerable:!0,configurable:!0}}function K(b,c){for(var e=[{listener:"__kbparentlisteners",action:"addChildListener"},{listener:"__kbparentupdatelisteners",action:"addChildUpdateListener"},{listener:"__kbparentcreatelisteners",action:"addChildCreateListener"},{listener:"__kbparentdeletelisteners",action:"addChildDeleteListener"}],
h=[],f,g=0,d=e.length;g<d;g++)if(f=b[e[g].listener],t.call(f))for(var h=Object.keys(f),k=0,n=h.length;k<n;k++)for(var m=0,l=f[h[k]].length;m<l;m++)c[e[g].method](h[k],f[h[k]][m]);else for(k=0,n=f.length;k<n;k++)c[e[g].method](f[k])}function Q(b,c,e){if(L(b,c)||"length"===c){if("length"===c)if(e>b.length&&void 0!==b[e-1])b.length=e;else{if(e<b.length){c=e;for(var h=b.length;c<h;c++)b[c]&&delete b[c];b.length=e}}else b[c]=e;return!0}b.set(c,e)}function R(b,c){b.del(c);return!0}function I(b,c,e){var h=
r(e),f=t(e),g=A(e);if(h&&e.__kbname!==b.__kbname)"default"===e.__kbname?b.merge(e,c):b.__kbpointers[c]||b.addPointer(e,c);else{var h=new q(this,c,"create",e,void 0,[],"__kbcreatelisteners",this._stopChange),d=l(h),k=parseInt(c,10);if(!0!==d)if((f||g)&&0!==Object.keys(e,"all").length)for(I.call(this,b,c,{}),f=0,g=Object.keys(e,"all"),h=g.length;f<h;f++)I.call(this[c],b[c],g[f],e[g[f]]);else{if(f||g)e=new w(e,b.__kbname,b,b.__kbscopeString+(0!==b.__kbscopeString.length?".":"")+c),K(b,e);Object.defineProperty(b,
c,T(c,e));!isNaN(k)&&b.length<=k&&(b.length=k+1);h.listener="__kbupdatelisteners";h.type="postcreate";l(h)}}}function M(b,c,e,h){var f=r(e),g=t(e),d=A(e);if(f&&e.__kbname!==b.__kbname)"default"===e.__kbname?b.merge(e,c):b.__kbpointers[c]||b.addPointer(e,c);else if(void 0===b[c])-1===J.indexOf(c)?I.call(this,b,c,e):(h?b.stopChange():b)[c]=e;else if(g||d)for(f=0,g=Object.keys(e,"all"),d=g.length;f<d;f++)M.call(this[c],b[c],g[f],e[g[f]],h);else(h?b.stopChange():b)[c]=e}function D(b){return N.call(b).replace(/(\[object\s|\])/g,
"").toLowerCase()}function t(b){return"object"===D(void 0!==b?b:this)}function A(b){return"array"===D(void 0!==b?b:this)}function r(b){return"mixed"===D(void 0!==b?b:this)}function L(b,c){c="string"===typeof b?b:c;var e=Object.getOwnPropertyDescriptor("string"===typeof b?this:b,c);return e?void 0===e.value:!1}function O(b,c){function e(b){var e=parseFloat(b,10),c="true"===b;if(isNaN(e)||e.toString().length!==b.length){if(c||"false"===b)return c;b=b.substring(1,b.length-1)}else return e;return b}var h=
this.__kbnonproxy;split=b.split(/({"|,"(?=(?:[^"]|"[^"]*")*$)|\[(?=(?:[^"]|"[^"]*")*$)|\](?=(?:[^"]|"[^"]*")*$)|":|"}|{(?=(?:[^"]|"[^"]*")*$)|,(?=(?:[^"]|"[^"]*")*$)|}(?=(?:[^"]|"[^"]*")*$))/).filter(Boolean);UKeys=[];isValue=isKey=!1;p="";for(var f=1,g=split.length,d,k,n,m;f<g;f++)d=split[f],k=split[f-1],n=split[f+1],m=UKeys[UKeys.length-1],'":'===k&&'{"'===d||'":'===k&&"["===d?(p+=(0!==p.length?".":"")+m,h.set(m,c?c(m,{},p,h):{}),h=h[m],UKeys.pop()):"["===k||","===k&&0!==h.length?"{"===d?(p+=(0!==
p.length?".":"")+h.length,h.push(c?c(h.length,{},p,h):{}),h=h[h.length-1]):h.push(c?c(h.length,e(d),p,h):e(d)):'":'===k?(h.set(m,c?c(m,e(d),p,h):e(d)),UKeys.pop()):'{"'===k||","===k&&'":'===n?UKeys[UKeys.length]=d.replace(/\"/g,""):"}"!==k&&"]"!==k||void 0===d||(p=-1!==p.indexOf(".")?p.substring(0,p.lastIndexOf(".")-1):"",h=h.__kbImmediateParent);return this}function P(b,c){"number"===typeof b&&(b=b.toString());var e=-1!==b.indexOf(".")?this.__kbnonproxy.setLayer(b):this.__kbnonproxy;-1!==b.indexOf(".")&&
(b=b.split(".").pop());var h=new q(this,b,"set",c,this[b],arguments,"__kbmethodlisteners");!0!==l(h)&&(M.call(this,e,b,c,this._stopChange),this.stopChange=void 0,h.type="postset",h.listener="__kbmethodupdatelisteners",l(h));return this}function v(b){return b.split(".")}function B(b,c){return function(e,h){arguments=Array.prototype.slice.call(arguments);arguments.push(b);var f=this[c],g=new q(this,c,"addlistener",f,void 0,arguments,"");"string"===typeof e&&1!==v(e).length&&(f=v(e),e=f.pop(),f=f.join("."),
g.local=this.getLayer(f),f=g.local[c],g.value=f);!0!==l(g)&&(t.call(f)?(void 0===f[e]&&(f[e]=[]),f[e].push(h),g.type="postaddlistener",l(g)):A.call(f)&&"function"===typeof e&&(f.push(e),g.type="postaddlistener",l(g)));return this}}function C(b,c){return function(e,h){arguments=Array.prototype.slice.call(arguments);arguments.push(b);var f=this[c],g=new q(this,c,"removelistener",f,void 0,arguments,"");"string"===typeof e&&1!==v(e).length&&(f=v(e),f.pop(),f.join("."),g.local=this.getLayer(f),f=g.local[c],
g.value=f,e=v(e).pop());if(!0!==l(g))if(t.call(f)){if(void 0!==f[e])for(var d=0,k=f[e].length;d<k;d++)if(f[e][d].toString()===h.toString()){f[e].splice(d,1);g.type="postremovelistener";l(g);break}}else if(A.call(f)&&"function"===typeof e)for(d=0,k=f.length;d<k;d++)if(f[d].toString()===e.toString()){f.splice(d,1);g.type="postremovelistener";l(g);break}return this}}function E(b,c){function e(b,c,g){var d=Object.keys(this,"all").filter(function(b){return r.call(this[b])}.bind(this)),k=this,n=b;"string"===
typeof b&&1!==v(b).length&&(k=v(b),n=k.pop(),k=k.join("."),k=this.getLayer(k),void 0===k[g][n]&&(k[g][n]=[]),k[g][n].push(c));t.call(k[g])?(void 0===k[g][n]&&(k[g][n]=[]),k[g][n].push(c),k=k.__kbpointers[n],k=k.point.getLayer(k.keys),void 0!==k[n]&&(void 0===k[g][n]&&(k[g][n]=[]),k[g][n].push(_func))):k[g].push(c);n=0;for(k=d.length;n<k;n++)e.call(this[d[n]],b,c,g)}return function(h,f){arguments=Array.prototype.slice.call(arguments);arguments.push(b);var g=new q(this,c,"addchildlistener",void 0,void 0,
arguments,"");!0!==l(g)&&(e.call(this.__kbnonproxy,h,f,c),g.type="postaddchildlistener",l(g));return this}}function F(b,c){function e(b,c,g){var d=Object.keys(this,"all").filter(function(b){return r.call(this[b])}.bind(this)),k=this,n=b;if("string"===typeof b&&1!==v(b).length){var m=v(b),n=m.pop();m.join(".");k=this.getLayer(m);if(void 0!==k[g][b])for(var m=0,l=k[g][b].length;m<l;m++)if(k[g][b][m].toString()===c.toString()){k[g][b].splice(m,1);break}}if(t.call(k[g])){if(void 0!==k[g][n]){m=0;for(l=
k[g][n].length;m<l;m++)if(k[g][n][m].toString()===c.toString()){k[g][n].splice(m,1);break}if(-1!==k.__kbpointers.indexOf(n)&&(m=k.__kbpointers[n],k=m.point.getLayer(m.keys),void 0!==k[g][n]))for(m=0,l=k[g][n].length;m<l;m++)if(k[g][n][m].toString()===c.toString()){k[g][n].splice(m,1);break}}}else for(m=0,l=k[g].length;m<l;m++)if(k[g][m].toString()===c.toString()){k[g].splice(m,1);break}m=0;for(l=d.length;m<l;m++)e.call(this[d[m]],b,c,g)}return function(h,f){arguments=Array.prototype.slice.call(arguments);
arguments.push(b);var g=new q(this,c,"removechildlistener",void 0,void 0,arguments,"");!0!==l(g)&&(e.call(this.__kbnonproxy,h,f,c),g.type="postremovechildlistener",l(g));return this}}var S={set:[],postset:[],create:[],postcreate:[],"delete":[],postdelete:[],splice:[],postsplice:[],push:[],postpush:[],pop:[],postpop:[],shift:[],postshift:[],unshift:[],postunshift:[],fill:[],postfill:[],reverse:[],postreverse:[],sort:[],postsort:[],addlistener:[],postaddlistener:[],removelistener:[],postremovelistener:[],
addchildlistener:[],postaddchildlistener:[],removechildlistener:[],postremovechildlistener:[]},J=["__proto__","_stopChange"],z=function(b,c){if(!c._stopPropogration&&b)for(var e=0,h=b.length;e!==h&&(b[e](c),!c._stopPropogration);e++);},l=function(b){if(b.listener){var c=b.local[b.listener],e=b.local[b.listener.replace("__kb","__kbparent")];t.call(c)?(z(c[b.key],b),z(c["*"],b)):z(c,b);t.call(e)?(z(e[b.key],b),z(e["*"],b)):z(e,b)}z(b.local.__kbref.__kbevents[b.type],b);return b._preventDefault},V=Array.prototype.sort,
W=Array.prototype.slice,N;Object.prototype._toString||(Object.prototype._toString=Object.prototype.toString);Object._keys||(Object._keys=Object.keys);Object.prototype.toString=function(){return this instanceof w?"[object Mixed]":Object.prototype._toString.apply(this,arguments)};Object.keys=function(b,c){return Object._keys(b).filter(function(b){return c&&"object"!==c&&"o"!==c?"all"===c?!0:!isNaN(parseInt(b,10)):isNaN(parseInt(b,10))})};N={}.toString;Object.defineProperties(w.prototype,{"typeof":d(D,
!1,!0),sizeof:d(function(b){function c(b){for(var f=Object.keys(b,"all"),g=0,d=void 0,k=0,n=f.length;k<n;k++)d=b[f[k]],"object"===typeof d&&void 0!==d&&null!==d?-1===e.indexOf(d)&&(e.push(d),g+=c(d)):"string"===typeof d?g+=2*d.length:"number"===typeof d?g+=8:"boolean"===typeof d?g+=4:"function"===typeof d&&(g+=2*d.toString().length),g+=2*f[k].length;return g}var e=[];return c(b||this)+" Bytes (Rough estimate)"},!1,!0),isObject:d(t,!1,!0),isArray:d(A,!1,!0),isMixed:d(r,!1,!0),isObservable:d(L,!1,!0),
stringify:d(function(b){var c=[];return JSON.stringify(b||this,function(b,h){if(A(h)||t(h)){if(-1!==c.indexOf(h))return;c.push(h)}return h})},!1,!0),getKeys:d(function(b,c){c="string"===typeof b?b:c?c:"object";return Object.keys("string"===typeof b||void 0===b?this:b,c)},!1,!0),getIndexes:d(function(b){b=void 0!==b?"object"===typeof b?b:this[b]:this;for(var c=[],e=0,h=b.length;e<h;e++)void 0!==b[e]&&(c[c.length]=e);return c},!1,!0),keyCount:H(function(){return this.getKeys("object").length},!1,!0),
indexCount:H(function(){return this.length},!1,!0),count:H(function(){return this.keyCount+this.indexCount},!1,!0),concat:d(Array.prototype.concat),every:d(Array.prototype.every),filter:d(Array.prototype.filter),find:d(Array.prototype.find),findIndex:d(Array.prototype.findIndex),forEach:d(Array.prototype.forEach),includes:d(Array.prototype.includes),indexOf:d(Array.prototype.indexOf),join:d(Array.prototype.join),lastIndexOf:d(Array.prototype.lastIndexOf),map:d(Array.prototype.map),reduce:d(Array.prototype.reduce),
reduceRight:d(Array.prototype.reduceRight),slice:d(Array.prototype.slice),some:d(Array.prototype.some),entries:d(Array.prototype.entries),toLocaleString:d(Array.prototype.toLocaleString),parse:d(O),parseReplace:d(function(b,c){return O.call(c||this,b)}),add:d(function(b,c){P.call(this,b,c);return this}),set:d(P),get:d(function(b){"number"===typeof b&&(b=b.toString());var c=-1!==b.indexOf(".")?this.getLayer(b):this;-1!==b.indexOf(".")&&(b=b.split(".").pop());if(c)return c[b];console.warn("Module: KonnektDT, Method: get, nothing exists on %o with the key %o",
this,b)}),del:d(function(b,c){var e="number"===typeof b||!isNaN(parseInt(b,10));e&&(b=b.toString());var h=-1!==b.indexOf(".")?this.getLayer(b):this,f=b.split(".").pop();if(h&&void 0!==h[f])if(e&&h.length>parseInt(b,10)&&!c)h=h.__kbnonproxy,h.splice(f,1);else{var g=new q(h,b,"delete",h[f],void 0,[],"__kbmethodlisteners"),y=l(g),k=new q(h,b,"delete",h[f],void 0,[],"__kbdeletelisteners",this._stopChange);!0!==l(k)&&!0!==y&&(h=h.__kbnonproxy,Object.defineProperty(h,f,d(void 0,!0,!0,!1)),delete h[f],e&&
h.length>parseInt(b,10)&&c&&--h.length,g.type="postdelete",g.listener="__kbmethodupdatelisteners",l(g),k.listener="__kbupdatelisteners",k.type="postdelete",k.oldValue=k.value,k.value=void 0,l(k))}return this}),exists:d(function(b){var c=-1!==b.indexOf(".")?this.__kbnonproxy.getLayer(b):this.__kbnonproxy;-1!==b.indexOf(".")&&(b=b.split(".").pop());return c?void 0!==c[b]:!!c}),addPrototype:d(function(b,c){var e=-1!==b.indexOf(".")?this.__kbnonproxy.setLayer(b):this.__kbnonproxy;-1!==b.indexOf(".")&&
(b=b.split(".").pop());void 0===e[b]?Object.defineProperty(e.__proto__,b,d(c,!0,!0)):console.error("Your attempting to add your prototype with the prop %O that already exists on %O",prop,e);return this}),addPointer:d(function(){var b=Array.prototype.slice.call(arguments),c=b.shift(),e=b[b.length-1];c instanceof w||(c=new w(c,c.__kbname));var h=new q(this,e,"create",c[e],void 0,[],"__kbcreatelisteners",this._stopChange),f=this.__kbnonproxy;h.root=c.__kbref.__kbproxy;if(!0!==l(h)){Object.defineProperty(f,
e,U.apply(f,arguments));f.__kbpointers[e]={keys:b.join("."),point:c};var b=f,c=[{listener:"__kblisteners",method:"addDataListener"},{listener:"__kbupdatelisteners",method:"addDataUpdateListener"}],f=[],g;if(b[e].__kbImmediateParent)for(var d=0,k=c.length;d<k;d++){g=b[c[d].listener];for(var f=Object.keys(g),n=0,m=f.length;n<m;n++)if(e===f[d])for(var p=0,u=g[f[d]].length;p<u;p++)void 0===b[e].__kbImmediateParent[c[d].listener][e]&&(b[e].__kbImmediateParent[c[d].listener][e]=[]),b[e].__kbImmediateParent[c[d].listener][e].push(g[f[d]][p])}K(b,
b[e]);h.listener="__kbupdatelisteners";h.type="postcreate";l(h)}return this}),move:d(function(b,c){this.__kbnonproxy.set(c,b[c]);r(b)?b.del(c):(b[c]=null,delete b[c]);return this}),copy:d(function(b,c){var e=this.__kbnonproxy;r(b)?"default"===b.__kbname?e.merge(b[c],c):e.addPointer(b,c):e.set(c,b[c]);return this}),merge:d(function(b,c){function e(b,c){for(var f=r(b)?b.keys("object"):Object.keys(b),d,m=0,l=f.length;m<l;m++)d=b[f[m]],"object"===typeof d&&-1===h.indexOf(d)&&"undefined"!==c[f[m]]?e(d,
c):void 0===c[f[m]]&&c.set(f[m],"object"===typeof d?{}:d)}var h=[],f=this.__kbnonproxy;c&&void 0===f[c]&&f.set(c,{});e(b,c?f[c]:f);return this}),replace:d(function(b,c){function e(b,c){var f=r(b)?b.keys("object"):Object.keys(b),d;d=b[f[x]];"object"===typeof d&&-1===h.indexOf(d)&&"undefined"!==c[f[x]]?e(d,c):c.set(f[x],"object"===typeof d?{}:d)}var h=[],f=this.__kbnonproxy;c&&void 0===f[c]&&f.set(c,{});e(b,c?f[c]:f);return this}),copyWithin:d(function(b,c,e){c=c||0;e=e||0;var h=new q(this,b,"copyWithin",
this[b],void 0,arguments,"__kbmethodlisteners"),f=this.__kbnonproxy;if(!0!==l(h)&&b<f.length){b=0>b?f.length-1:b;c=c<f.length?c:f.length-1;e=e<f.length?e:f.length-1;c=0>c?f.length-1:c;e=0>c?f.length-1:e;for(var d=c;d<=e;d++)f.set(b+(d-c),f[d]);h.type="postcopyWithin";h.listener="__kbmethodupdatelisteners";l(h)}return this}),fill:d(function(b,c,e){c=void 0!==c?Math.max(0,c):0;e=void 0!==e&&e<=this.length?Math.min(this.length,Math.max(0,e)):this.length;var d=new q(this,_start,"fill",this[_start],void 0,
arguments,"__kbmethodlisteners"),f=this.__kbnonproxy;if(!0!==l(d)){for(var g=a.key;g<e;g++)f[g]=b;d.type="postfill";d.listener="__kbmethodupdatelisteners";l(d)}return this}),pop:d(function(){var b=new q(this,this.length-1,"pop",this[this.length-1],void 0,arguments,"__kbmethodlisteners"),c=this.__kbnonproxy;if(!0!==l(b)){var e=c[c.length-1];c.del(this.length-1);b.type="postpop";b.listener="__kbmethodupdatelisteners";l(b);return e}return null}),push:d(function(b){var c=new q(this,this.length,"push",
b,void 0,arguments,"__kbmethodlisteners"),e=this.__kbnonproxy;!0!==l(c)&&(e.set(e.length,b),c.type="postpush",c.listener="__kbmethodupdatelisteners",l(c));return this.length}),reverse:d(function(){var b=new q(this,void 0,"reverse",void 0,void 0,arguments,"__kbmethodlisteners"),c=this.__kbnonproxy;if(!0!==l(b)){for(var e=null,d=null,f=c.length,e=0;e<f/2;e+=1){var d=f-1-e,g=c[e];c[e]=c[d];c[d]=g}b.type="postreverse";b.listener="__kbmethodupdatelisteners";l(b)}return this}),shift:d(function(){var b=
new q(this,0,"shift",this[0],void 0,arguments,"__kbmethodlisteners"),c=this.__kbnonproxy;if(!0!==l(b)){for(var e=a.key,d=this.length-1;e<d;e++)c[e]=c[e+1];c.del(this.length-1);b.type="postshift";b.listener="__kbmethodupdatelisteners";l(b)}return null}),sort:d(function(){var b=new q(this,void 0,"sort",void 0,void 0,arguments,"__kbmethodlisteners"),c=this.__kbnonproxy;if(!0!==l(b)){var e=W.call(c);V.apply(e,arguments);for(var d=0,f=e.length;d<f;d++)c[d]=e[d];b.type="postsort";b.listener="__kbmethodupdatelisteners";
l(b)}return this}),splice:d(function(b,c,e){b="string"===typeof b?parseInt(b,10):b;var d=new q(this,b,"splice",void 0,void 0,arguments,"__kbmethodlisteners"),f=this.__kbnonproxy;if(!0!==l(d)){var g=[],y=Array.prototype.slice.call(arguments,2),k=y.length-2,n=0;if(0!==c&&void 0!==f[b-1+c])for(var m=0,p=c;m<p;m++){g.push(f[b+m]);for(var u=b+m,r=this.length-1;u<r;u++)f[u]=f[u+1];f.del(f.length-1,!0)}if(0!==k)for(m=0,p=k;m<p;m++){n=b+Math.min(1,m);u=f.length;for(r=n;u>r;u--)f.set(u,f[u-1]);f.set(n,y[m])}d.type=
"postsplice";d.listener="__kbmethodupdatelisteners";l(d);return g}return[]}),unshift:d(function(){var b=new q(this,0,"unshift",this[0],void 0,arguments,"__kbmethodlisteners"),c=this.__kbnonproxy;if(!0!==l(b)){for(var e=Array.prototype.slice.call(arguments),d=c.length-1+e.length,f=e.length;-1!==d;d--)d<f?c.set(d,e[d]):c.set(d,c[d-e.length]);b.type="postunshift";b.listener="__kbmethodupdatelisteners";l(b)}return this.length}),getLayer:d(function(b){function c(b){var d=b[0];return void 0===this[d]&&
0!==b.length-1?null:r(this[d])?0!==b.length-1?(b.shift(),c.call(this[d],b)):this[d]:this}b=v(b);return c.call(this,b)}),setLayer:d(function(b){function c(b){var d=b[0];void 0===this[d]&&0!==b.length-1&&(this[d]=w({},this.__kbname,this,this.__kbscopeString+"."+d));return r(this[d])?0!==b.length-1?(b.shift(),c.call(this[d],b)):this[d]:this}b=v(b);return c.call(this,b)}),ignoreCreate:d(function(b){-1===J.indexOf(b)&&J.push(b);return this}),addActionListener:d(function(b,c){var e=this.__kbnonproxy;void 0!==
e.__kbref.__kbevents[b]&&e.__kbref.__kbevents[b].push(c);return this}),removeActionListener:d(function(b,c){var e=this.__kbnonproxy;if(void 0!==e.__kbref.__kbevents[b])for(var d=0,f=e.__kbref.__kbevents[b];d<f;d++)if(e.__kbref.__kbevents[b][d].toString()===c.toString()){e.__kbref.__kbevents[b].splice(d,1);break}return this}),subscribe:d(function(b,c){var e=b.split("."),d=e.pop(),e=0!==e.length?this.__kbnonproxy.getLayer(e.join(".")):this.__kbnonproxy;void 0===e.__kbsubscribers[d]&&(e.__kbsubscribers[d]=
[]);e.__kbsubscribers[d].push(c);return this}),unsubscribe:d(function(b,c){var e=b.split("."),d=e.pop(),e=0!==e.length?this.__kbnonproxy.getLayer(e.join(".")):this.__kbnonproxy;if(void 0!==e.__kbsubscribers[d])for(var f=0,g=e.__kbsubscribers[d].length;f<g;f++)if(e.__kbsubscribers[d][f].toString()===c.toString()){e.__kbsubscribers[d].splice(f,1);break}return this}),subscribeDeep:d(function(b,c){function e(b,d){var f=Object.keys(b,"all").filter(function(c){return r.call(b[c])}.bind(b));if(void 0!==
b[d]||"*"===d)void 0===b.__kbparentsubscribers[d]&&(b.__kbparentsubscribers[d]=[]),b.__kbparentsubscribers[d].push(c);for(var g=0,h=f.length;g<h;g++)e(b[f[g]],d)}var d=-1!==b.indexOf("*"),f=b.split(".");f.slice(0,f.indexOf("*"));var g=-1!==f.indexOf("*")?f.slice(f.indexOf("*"),f.length):[],l=1===g.length,k=f.pop(),f=0!==f.length?this.__kbnonproxy.getLayer(f.join(".")):this.__kbnonproxy;d?l?e(f,"*"):(g.shift(),f.subscribeDeep(g.join("."),c)):e(f,k);return this}),unsubscribeDeep:d(function(b,c){function e(b,
d){var f=Object.keys(b,"all").filter(function(c){return r.call(b[c])&&!(b[c]instanceof HTMLElement)}.bind(b));if((void 0!==b[d]||"*"===d)&&void 0!==b.__kbparentsubscribers[d])for(var g=0,h=b.__kbparentsubscribers[d].length;g<h;g++)b.__kbparentsubscribers[d][g].toString()===c.toString()&&b.__kbparentsubscribers[d].splice(g,1);g=0;for(h=f.length;g<h;g++)e(b[f[g]],d)}var d=-1!==b.indexOf("*"),f=b.split(".");f.slice(0,f.indexOf("*"));var g=-1!==f.indexOf("*")?f.slice(f.indexOf("*"),f.length):[],l=1===
g.length,k=f.pop(),f=0!==f.length?this.__kbnonproxy.getLayer(f.join(".")):this.__kbnonproxy;d?l?e(f,"*"):(g.shift(),f.unsubscribeDeep(g.join("."),c)):e(f,k);return this}),callSubscribers:d(function(b,c,e,d,f,g){var l=this.__kbnonproxy;if(void 0!==l.__kbsubscribers[e])for(var k=0,n=l.__kbsubscribers[e].length;k<n;k++)l.__kbsubscribers[e][k].call(this,{key:e,value:d,oldValue:f,stopChange:g,local:c,kbref:b});if(void 0!==l.__kbparentsubscribers[e])for(k=0,n=l.__kbparentsubscribers[e].length;k<n;k++)l.__kbparentsubscribers[e][k].call(this,
{key:e,value:d,oldValue:f,stopChange:g,local:c,kbref:b});if(void 0!==l.__kbsubscribers["*"])for(k=0,n=l.__kbsubscribers["*"].length;k<n;k++)l.__kbsubscribers["*"][k].call(this,{key:e,value:d,oldValue:f,stopChange:g,local:c,kbref:b});if(void 0!==l.__kbparentsubscribers["*"])for(k=0,n=l.__kbparentsubscribers["*"].length;k<n;k++)l.__kbparentsubscribers["*"][k].call(this,{key:e,value:d,oldValue:f,stopChange:g,local:c,kbref:b});return this}),callAllSubscribers:d(function(){function b(b,e,d){for(var f=
0,g=e.length;f<g;f++)e[f].call(b,{key:d,value:b[d],oldValue:b[d],stopChange:!1,local:b,kbref:b.__kbref,initial:!0})}(function(c){for(var d=Object.keys(c.__kbsubscribers),h=Object.keys(c.__kbparentsubscribers),f=0,g=d.length;f<g;f++)if(0!==c.__kbsubscribers[d[f]].length)if("*"===d[f])for(var l=0,k=Object.keys(c),n=k.length;l<n;l++)b(c,c.__kbsubscribers[d[f]],k[l]);else b(c,c.__kbsubscribers[d[f]],d[f]);f=0;for(g=h.length;f<g;f++)if(0!==c.__kbparentsubscribers[h[f]].length)if("*"===h[f])for(l=0,k=Object.keys(c),
n=k.length;l<n;l++)b(c,c.__kbparentsubscribers[h[f]],k[l]);else b(c,c.__kbparentsubscribers[h[f]],h[f])})(this.__kbnonproxy);return this}),stopChange:d(function(){this.__kbnonproxy._stopChange=!0;return this})});Object.defineProperties(w.prototype,{addDataListener:d(B("addDataListener","__kblisteners")),removeDataListener:d(C("removeDataListener","__kblisteners")),addDataUpdateListener:d(B("addDataUpdateListener","__kbupdatelisteners")),removeDataUpdateListener:d(C("removeDataUpdateListener","__kbupdatelisteners")),
addDataCreateListener:d(B("addDataCreateListener","__kbcreatelisteners")),removeDataCreateListener:d(C("removeDataCreateListener","__kbcreatelisteners")),addDataDeleteListener:d(B("addDataDeleteListener","__kbdeletelisteners")),removeDataDeleteListener:d(C("removeDataDeleteListener","__kbdeletelisteners")),addDataMethodListener:d(B("addDataMethodListener","__kbmethodlisteners")),removeDataMethodListener:d(C("removeDataMethodListener","__kbmethodlisteners")),addDataMethodUpdateListener:d(B("addDataMethodUpdateListener",
"__kbmethodupdatelisteners")),removeDataMethodUpdateListener:d(C("removeDataMethodUpdateListener","__kbmethodupdatelisteners")),addChildDataListener:d(E("addChildDataListener","__kbparentlisteners")),removeChildDataListener:d(F("removeChildDataListener","__kbparentlisteners")),addChildDataUpdateListener:d(E("addChildDataUpdateListener","__kbparentupdatelisteners")),removeChildDataUpdateListener:d(F("removeChildDataUpdateListener","__kbparentupdatelisteners")),addChildDataCreateListener:d(E("addChildDataCreateListener",
"__kbparentcreatelisteners")),removeChildDataCreateListener:d(F("removeChildDataCreateListener","__kbparentcreatelisteners")),addChildDataDeleteListener:d(E("addChildDataDeleteListener","__kbparentdeletelisteners")),removeChildDataDeleteListener:d(F("removeChildDataDeleteListener","__kbparentdeletelisteners"))});return w}}();"undefined"!==typeof window&&"undefined"!==typeof window.define&&"undefined"!==typeof window.require?define([],function(){return G}):"undefined"!==typeof module&&(module.exports=
G);return G}();
